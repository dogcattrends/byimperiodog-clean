# Netlify configuration for Next.js project
[build]
  command = "npm run build"
  publish = ".next"
  functions = "netlify/functions"

[dev]
  command = "npm run dev"
  port = 8888
  targetPort = 3000
  autoLaunch = false

# ============================================================================
# REDIRECTS - ORDEM IMPORTA! (Mais especÃ­ficas PRIMEIRO)
# ============================================================================
# ğŸ’¡ Regra de Ouro: Netlify processa redirects de cima para baixo
#    Primeira regra que matchear, vence!
#    Mais especÃ­ficas (exatas) devem estar antes de wildcard patterns

# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# 1ï¸âƒ£ REDIRECTS ESPECÃFICOS HUNGARIAN (Bloqueio de PÃ¡ginas Fantasma)
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

# "PomerÃ¡niai" em hÃºngaro â†’ Redireciona para catÃ¡logo de filhotes
[[redirects]]
  from = "/pomeraniai"
  to = "/filhotes"
  status = 301
  force = true

# "PrÃ©mium kÃ¶lyÃ¶kkutyÃ¡k elÃ©rhetÅ‘k" em hÃºngaro â†’ Redireciona para filhotes
[[redirects]]
  from = "/premium-kolyokkutyak-elerhetok"
  to = "/filhotes"
  status = 301
  force = true

# VariaÃ§Ãµes com hÃ­fens e parÃ¢metros do URL antigo
[[redirects]]
  from = "/pomeraniai-*"
  to = "/filhotes"
  status = 301
  force = true

[[redirects]]
  from = "/kolyokkutyak*"
  to = "/filhotes"
  status = 301
  force = true

# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# 2ï¸âƒ£ BLOQUEIO TOTAL DE ROTAS /HU/* (Qualquer idioma hÃºngaro)
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# Captura /hu/* e qualquer blog post com sufixo -hu

[[redirects]]
  from = "/hu/*"
  to = "/"
  status = 301
  force = true

[[redirects]]
  from = "/blog/*-hu"
  to = "/"
  status = 301
  force = true

[[redirects]]
  from = "/blog/*-hu-HU"
  to = "/"
  status = 301
  force = true

[[redirects]]
  from = "*-hu"
  to = "/"
  status = 301
  force = true

# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# 3ï¸âƒ£ REDIRECTS DE ADMIN (Rota Protegida)
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# /admin (sem trailing slash) â†’ /admin/login
# Isso forÃ§a login para qualquer acesso direto a /admin

[[redirects]]
  from = "/admin"
  to = "/admin/login"
  status = 307
  force = false

# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# 4ï¸âƒ£ REDIRECTS DE ROTAS ANTIGAS / QUEBRADAS (PrevenÃ§Ã£o de 404)
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

# Redirecionamentos de termos antigos/misspellings comuns
[[redirects]]
  from = "/spitz"
  to = "/filhotes"
  status = 301
  force = true

[[redirects]]
  from = "/puppies"
  to = "/filhotes"
  status = 301
  force = true

[[redirects]]
  from = "/galeria"
  to = "/filhotes"
  status = 301
  force = true

[[redirects]]
  from = "/preco"
  to = "/preco-spitz-anao"
  status = 301
  force = true

[[redirects]]
  from = "/reservar"
  to = "/reserve-seu-filhote"
  status = 301
  force = true

[[redirects]]
  from = "/sobre-nos"
  to = "/sobre"
  status = 301
  force = true

# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# 5ï¸âƒ£ REDIRECT UNIVERSAL PARA NEXT.JS (DEVE VIR POR ÃšLTIMO)
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# âš ï¸ IMPORTANTE: Esta regra COM STATUS 200 faz "masking" (URL muda, conteÃºdo Ã© servido)
#    Isso permite ao Next.js renderizar 404s customizados sem mudar URL no browser

[[redirects]]
  from = "/*"
  to = "/.netlify/functions/server"
  status = 200

# ============================================================================
# HEADERS - SeguranÃ§a e SEO
# ============================================================================

# Headers para /admin/* - Bloqueio de indexaÃ§Ã£o e proteÃ§Ã£o
[[headers]]
  for = "/admin/*"
  [headers.values]
    X-Robots-Tag = "noindex, nofollow, noarchive, nosnippet"
    X-Frame-Options = "DENY"
    Cache-Control = "no-cache, no-store, must-revalidate, private"

# Headers para /api/admin/* - SeguranÃ§a
[[headers]]
  for = "/api/admin/*"
  [headers.values]
    X-Robots-Tag = "noindex, nofollow"
    X-Frame-Options = "DENY"
    Cache-Control = "no-cache, no-store, must-revalidate, private"

# Headers para arquivos estÃ¡ticos - Cache agressivo
[[headers]]
  for = "/_next/static/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

# Headers para imagens - Cache moderado (ISR)
[[headers]]
  for = "/images/*"
  [headers.values]
    Cache-Control = "public, max-age=86400, must-revalidate"

# Environment variables (add your Supabase keys and others here)
#[[headers]]
#  for = "/api/*"
#  [headers.values]
#    Access-Control-Allow-Origin = "*"
