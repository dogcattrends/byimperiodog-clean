@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Base neutrals — sólidos sem transparência */
  --bg: #faf5ef;
  --bg-2: #f2e8de;
  --background: #fffdf8;
  --surface: #ffffff; /* Sólido para Header/Footer */
  --surface-dark: #0c1e1a; /* Verde escuro sólido para rodapé */
  --surface-dark-2: #102722;
  --surface-2: #f5ebdf;
  --border: #e2d6c7;
  --foreground: #201a16;
  --text: #2a231f;
  --text-light: #f6f7f7; /* Texto sobre fundos escuros */
  --text-muted: #7a6a5f;

  /* Brand palette */
  --brand: #1f4d3a;
  --brand-teal: #0ea5a3; /* Turquesa sólido */
  --brand-foreground: #ffffff;
  --brand-contrast: #ffffff;

  --accent: #f3b562;
  --accent-foreground: #3b2715;
  --accent-contrast: #3b2715;

  --whatsapp: #1f8a5c;
  --whatsapp-contrast: #ffffff;

  --success: #2f855a;
  --warning: #c27803;
  --error: #c53030;

  --ease-out: cubic-bezier(.4,0,.2,1);
}

@layer base {
  html, body { overflow-x: hidden; }
  body {
    background: var(--bg);
    color: var(--text);
    font-family: var(--font-dm-sans), var(--font-inter), "Segoe UI", system-ui, -apple-system, sans-serif;
    line-height: 1.6;
  }
  a { color: inherit; text-decoration-color: var(--brand); }
}

body.admin-shell [data-site-shell="navbar"],
body.admin-shell [data-site-shell="footer"],
body.admin-shell [data-site-shell="cta"] {
  display: none !important;
}

@layer components {
  .btn-base { @apply inline-flex items-center justify-center font-medium transition focus-visible:focus-ring disabled:opacity-60 disabled:pointer-events-none rounded-xl; }
  .btn { @apply btn-base px-4 py-2 bg-[var(--surface-2)] text-[var(--text)] shadow-sm hover:shadow focus-visible:ring-2 focus-visible:ring-[var(--brand)] focus-visible:ring-opacity-40 focus-visible:ring-offset-2; }
  .btn-brand { @apply btn-base px-4 py-2 bg-brand text-[var(--brand-foreground)] shadow-sm hover:brightness-110 focus-visible:ring-2 focus-visible:ring-[var(--brand)] focus-visible:ring-opacity-40 focus-visible:ring-offset-2; }
  .btn-accent { @apply btn-base px-4 py-2 bg-accent text-[var(--accent-foreground)] shadow-sm hover:brightness-110 focus-visible:ring-2 focus-visible:ring-[var(--accent)] focus-visible:ring-opacity-40 focus-visible:ring-offset-2; }
  .btn-outline { @apply btn-base px-4 py-2 border border-[var(--border)] text-[var(--text)] bg-white hover:bg-[var(--surface-2)] focus-visible:ring-2 focus-visible:ring-[var(--brand)] focus-visible:ring-opacity-40 focus-visible:ring-offset-2; }
  .btn-whatsapp { @apply btn-base px-4 py-2 bg-whatsapp text-[var(--whatsapp-contrast)] shadow-sm hover:brightness-105 focus-visible:ring-2 focus-visible:ring-[var(--whatsapp)] focus-visible:ring-opacity-40 focus-visible:ring-offset-2; }

  .badge { @apply inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold tracking-wide; }
  .badge-neutral { @apply badge bg-[var(--surface-2)] text-[var(--text)] ring-1 ring-[var(--border)]; }
  .badge-brand { @apply badge bg-brand text-[var(--brand-foreground)]; }
  .badge-accent { @apply badge bg-accent text-[var(--accent-foreground)]; }
  .badge-outline { @apply badge border border-[var(--border)] text-[var(--text-muted)]; }
}

/* Motion helpers */
.u-hover-card { transition: transform .25s var(--ease-out), box-shadow .25s var(--ease-out); will-change: transform; }
.u-hover-card:hover { transform: translateY(-2px) scale(1.01); box-shadow: 0 12px 24px -18px rgba(32,26,22,.4), 0 6px 12px -10px rgba(32,26,22,.25); }

@media (prefers-reduced-motion: reduce) {
  .u-hover-card, .u-fade-in { transition: none !important; }
  .u-hover-card:hover { transform: none; box-shadow: none; }
}

.u-fade-in { opacity: 0; animation: fade-in-up .4s var(--ease-out) forwards; }
@keyframes fade-in-up {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}

.parallax-root { position: relative; overflow: clip; }
.parallax-root [data-parallax-layer] { position: relative; will-change: transform; transition: transform .25s linear; }

@layer utilities {
  a { text-underline-offset: 3px; }
  .container { max-width: 72rem; margin-left: auto; margin-right: auto; padding-left: 1rem; padding-right: 1rem; }
}

.text-brand-strong { color: var(--brand); font-weight: 600; text-decoration: underline; text-underline-offset: 4px; }
.link-brand { color: var(--brand); font-weight: 500; }
.link-brand:focus-visible { outline: 2px solid var(--brand); outline-offset: 2px; }

.on-accent, .on-brand, .on-whatsapp { color: #ffffff !important; font-weight: 600; }
.bg-accent, .bg-brand, .bg-whatsapp { --tw-text-opacity: 1; }

.placeholder-strong { color: #75685b; }
.text-muted-strong { color: var(--text-muted); font-weight: 500; }

@keyframes heartbeat {
  0%, 100% { transform: scale(1); }
  30% { transform: scale(1.05); }
  60% { transform: scale(0.97); }
}
.heartbeat:hover { animation: heartbeat .7s ease-in-out; }

.dark {
  --background: #0f1916;
  --surface: #161f1b;
  --surface-2: #1f2622;
  --border: #2d3731;
  --text: #f4f6f5;
  --text-muted: #9bb4a9;
  --brand: #4ac49b;
  --brand-foreground: #0e160f;
  --brand-contrast: #0e160f;
  --accent: #f5c477;
  --accent-foreground: #20170f;
  --accent-contrast: #20170f;
  --whatsapp: #36d08a;
  --whatsapp-contrast: #0e160f;
}

@keyframes shake {
  10%, 90% { transform: translateX(-1px); }
  20%, 80% { transform: translateX(2px); }
  30%, 50%, 70% { transform: translateX(-3px); }
  40%, 60% { transform: translateX(3px); }
}

